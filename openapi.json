{"openapi":"3.1.0","info":{"title":"EasyTalk API","description":"API сервер для детского образовательного приложения EasyTalk","version":"1.0.0"},"paths":{"/api/profile":{"get":{"tags":["profile"],"summary":"Get Profile","description":"Получить профиль текущего пользователя.\nТребуется токен авторизации.","operationId":"get_profile_api_profile_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["profile"],"summary":"Update Profile","description":"Обновить профиль текущего пользователя.\nТребуется токен авторизации.","operationId":"update_profile_api_profile_put","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/session/start":{"post":{"tags":["session"],"summary":"Start Session","description":"Начать новую игровую сессию заданного типа.\nТребуется токен авторизации.","operationId":"start_session_api_session_start_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartSessionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/session/finish":{"patch":{"tags":["session"],"summary":"Finish Session","description":"Завершить игровую сессию с результатами и получить подтверждение.\nТребуется токен авторизации.","operationId":"finish_session_api_session_finish_patch","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"string","description":"ID сессии для завершения","title":"Session Id"},"description":"ID сессии для завершения"},{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinishSessionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinishSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/session/active":{"get":{"tags":["session"],"summary":"Get Active Session","description":"Получить данные об активной сессии пользователя, если такая существует.\nТребуется токен авторизации.","operationId":"get_active_session_api_session_active_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/progress":{"post":{"tags":["progress"],"summary":"Save Progress","description":"Сохранить ежедневный прогресс пользователя.\nТребуется токен авторизации.","operationId":"save_progress_api_progress_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveProgressRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveProgressResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["progress"],"summary":"Get Progress","description":"Получить прогресс пользователя за указанное количество дней.\nТребуется токен авторизации.","operationId":"get_progress_api_progress_get","parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":30,"minimum":1,"description":"Количество дней для выборки","default":7,"title":"Days"},"description":"Количество дней для выборки"},{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProgressResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/progress/weekly-summary":{"get":{"tags":["progress"],"summary":"Get Weekly Summary","description":"Получить общее количество очков пользователя за последнюю неделю.\nТребуется токен авторизации.","operationId":"get_weekly_summary_api_progress_weekly_summary_get","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WeeklySummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/content/animals":{"get":{"tags":["content"],"summary":"Get Animals","description":"Получить список животных для игры \"Угадай животное\".\nМожно фильтровать по уровню сложности.\nТребуется токен авторизации.","operationId":"get_animals_api_content_animals_get","parameters":[{"name":"difficulty","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":5,"minimum":1},{"type":"null"}],"description":"Фильтр по сложности (1-5)","title":"Difficulty"},"description":"Фильтр по сложности (1-5)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Максимальное количество записей","default":50,"title":"Limit"},"description":"Максимальное количество записей"},{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AnimalContent"},"title":"Response Get Animals Api Content Animals Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/content/animals/{animal_id}":{"get":{"tags":["content"],"summary":"Get Animal By Id","description":"Получить данные о конкретном животном по его ID.\nТребуется токен авторизации.","operationId":"get_animal_by_id_api_content_animals__animal_id__get","parameters":[{"name":"animal_id","in":"path","required":true,"schema":{"type":"string","description":"Идентификатор животного","title":"Animal Id"},"description":"Идентификатор животного"},{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnimalContent"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/content/sentences":{"get":{"tags":["content"],"summary":"Get Sentences","description":"Получить список предложений для игры \"Составь предложение\".\nМожно фильтровать по уровню сложности.\nТребуется токен авторизации.","operationId":"get_sentences_api_content_sentences_get","parameters":[{"name":"difficulty","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":5,"minimum":1},{"type":"null"}],"description":"Фильтр по сложности (1-5)","title":"Difficulty"},"description":"Фильтр по сложности (1-5)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Максимальное количество записей","default":50,"title":"Limit"},"description":"Максимальное количество записей"},{"name":"authorization","in":"header","required":false,"schema":{"type":"string","title":"Authorization"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SentenceContent"},"title":"Response Get Sentences Api Content Sentences Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"Корневой эндпоинт для проверки работоспособности API.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AnimalContent":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"english_name":{"type":"string","title":"English Name"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url"},"sound_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sound Url"},"difficulty":{"type":"integer","title":"Difficulty"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["id","name","english_name","difficulty"],"title":"AnimalContent"},"FinishSessionRequest":{"properties":{"details":{"items":{"$ref":"#/components/schemas/RoundDetail"},"type":"array","title":"Details"},"score":{"type":"integer","title":"Score"}},"type":"object","required":["details","score"],"title":"FinishSessionRequest"},"FinishSessionResponse":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"FinishSessionResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ProgressItemResponse":{"properties":{"date":{"type":"string","title":"Date"},"daily_score":{"type":"integer","title":"Daily Score"},"correct_answers":{"type":"integer","title":"Correct Answers"},"total_answers":{"type":"integer","title":"Total Answers"},"success_rate":{"type":"number","title":"Success Rate"},"time_spent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Time Spent"}},"type":"object","required":["date","daily_score","correct_answers","total_answers","success_rate"],"title":"ProgressItemResponse"},"ProgressResponse":{"properties":{"data":{"items":{"$ref":"#/components/schemas/ProgressItemResponse"},"type":"array","title":"Data"},"total_score":{"type":"integer","title":"Total Score"},"average_score":{"type":"number","title":"Average Score"},"success_rate":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Success Rate"}},"type":"object","required":["data","total_score","average_score"],"title":"ProgressResponse"},"RoundDetail":{"properties":{"question_id":{"type":"string","title":"Question Id"},"answer":{"type":"string","title":"Answer"},"is_correct":{"type":"boolean","title":"Is Correct"},"time_spent":{"type":"number","minimum":0.0,"title":"Time Spent"}},"type":"object","required":["question_id","answer","is_correct","time_spent"],"title":"RoundDetail"},"SaveProgressRequest":{"properties":{"score":{"type":"integer","minimum":0.0,"title":"Score","description":"Количество очков за день"},"correct_answers":{"type":"integer","minimum":0.0,"title":"Correct Answers","description":"Количество правильных ответов"},"total_answers":{"type":"integer","minimum":0.0,"title":"Total Answers","description":"Общее количество ответов"},"time_spent":{"type":"number","minimum":0.0,"title":"Time Spent","description":"Время в секундах"},"date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date","description":"Дата в формате ISO (YYYY-MM-DD)"}},"type":"object","required":["score","correct_answers","total_answers","time_spent"],"title":"SaveProgressRequest"},"SaveProgressResponse":{"properties":{"message":{"type":"string","title":"Message"},"progress_id":{"type":"string","title":"Progress Id"}},"type":"object","required":["message","progress_id"],"title":"SaveProgressResponse"},"SentenceContent":{"properties":{"id":{"type":"string","title":"Id"},"sentence":{"type":"string","title":"Sentence"},"words":{"items":{"type":"string"},"type":"array","title":"Words"},"difficulty":{"type":"integer","title":"Difficulty"},"translation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Translation"}},"type":"object","required":["id","sentence","words","difficulty"],"title":"SentenceContent"},"SessionModel":{"properties":{"session_id":{"type":"string","title":"Session Id"},"user_id":{"type":"string","title":"User Id"},"game_type":{"type":"string","enum":["guess_animal","build_sentence"],"title":"Game Type"},"start_time":{"type":"string","format":"date-time","title":"Start Time"},"end_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time"},"status":{"$ref":"#/components/schemas/SessionStatus"},"score":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Score"},"details":{"items":{"$ref":"#/components/schemas/RoundDetail"},"type":"array","title":"Details"}},"type":"object","required":["session_id","user_id","game_type","start_time","status"],"title":"SessionModel"},"SessionStatus":{"type":"string","enum":["active","finished","abandoned"],"title":"SessionStatus"},"StartSessionRequest":{"properties":{"game_type":{"type":"string","title":"Game Type"}},"type":"object","required":["game_type"],"title":"StartSessionRequest"},"StartSessionResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"}},"type":"object","required":["session_id"],"title":"StartSessionResponse"},"UpdateProfileRequest":{"properties":{"display_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Display Name"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"photo_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Photo Url"}},"type":"object","title":"UpdateProfileRequest"},"UserModel":{"properties":{"uid":{"type":"string","title":"Uid"},"email":{"type":"string","format":"email","title":"Email"},"display_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Display Name"},"photo_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Photo Url"},"level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Level"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["uid","email"],"title":"UserModel"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WeeklySummaryResponse":{"properties":{"total_weekly_score":{"type":"integer","title":"Total Weekly Score"}},"type":"object","required":["total_weekly_score"],"title":"WeeklySummaryResponse"}}}}